---
tags: [Book/Effective Java/Ch9 - 일반적인 프로그래밍 원칙]
title: '[Item 66] 네이티브 메서드는 신중히 사용하라'
created: '2022-07-19T14:09:35.461Z'
modified: '2022-07-19T14:18:37.404Z'
---

# [Item 66] 네이티브 메서드는 신중히 사용하라

## 네이티브 메서드란?

자바 네이티브 메서드는 자바 프로그램에서 C나 C++ 같은 네이티브 언어로 작성된 메서드이다. 네이티브 메서드는 주로 다음과 같이 사용된다. 그러나 일부는 자바를 사용하는 것이 더 나은 경우도 있다.

1. 레지스트리 같은 플랫폼에 특화 기능을 사용하는 경우: 기존에는 OS 등 하부 플랫폼 기능을 활용하려면 네이티브 메서드를 사용해야 했으나 자바9는 새로 process API를 추가해 OS에 접근할 수 있게 되었으므로 **점차 자바가 성숙해져가며 네이티브 메서드를 사용할 필요성이 줄어들고 있다.**
2. 네이티브 코드로 작성된 기존 라이브러리를 사용하는 경우: 이 경우 여전히 GMP(다중 정밀 연산 라이브러리) 등은 네이티브 라이브러리를 중심으로 발전하고 있으므로 네이티브 메서드를 사용하는 것이 크게 문제가 되지 않는다.
3. 성능에 결정적인 영향을 주는 부분에 사용하는 경우: 자바 초기 시절(자바3 이전)에는 자바 성능이 좋지 않았을 수 있지만 최근 JVM은 다른 플랫폼에 견줄만한 성능을 보인다. 순수 자바 코드를 튜닝한 결과 현재는 네이티브 메서드보다 빠르게 동작한다.

## 네이티브 메서드의 단점

- 네이티브 언어는 안전하지 않으므로 네이티브 메서드를 사용하는 프로그램은 메모리 측면에서 안전하지 못하다.
- 네이티브 언어는 플랫폼에 민감하고 이식성이 낮다.
- 네이티브 메모리를 자동으로 회수하지 못한다.
- 자바 코드와 네이티브 언어의 경계를 넘을 때마다 비용이 든다.
