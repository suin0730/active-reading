---
tags: [Book/Effective Java/Ch9 - 일반적인 프로그래밍 원칙]
title: '[Item 57] 지역변수의 범위를 최소화하라'
created: '2022-07-05T11:05:35.353Z'
modified: '2022-07-05T11:37:34.152Z'
---

# [Item 57] 지역변수의 범위를 최소화하라

**지역변수 유효 범위를 최소로 줄이면 코드 가독성과 유지보수성이 높아지고, 오류 가능성이 낮아진다.**

## 제일 처음 쓰이는 시점에서 선언하라

- 미리 변수를 선언해두면 코드 가독성이 떨어진다.
- 실제 변수를 사용하는 시점에 타입, 초기값이 기억나지 않을 수 있다.
- 실수로 의도한 범위를 벗어난 위치에서 변수를 사용하면 발견하기 어려운 버그를 만든다.

## 거의 모든 지역변수는 선언과 동시에 초기화해야 한다

- 만약 초기화에 필요한 정보가 충분하지 않다면, 충분해질 때까지 선언을 미뤄야 한다.
- 변수를 초기화하는 식에서 checked exception을 던질 가능성이 있다면 try 블록 내에서 초기화해야 한다.
- 변수를 try 외에서도 사용해야 한다면 (정확히 초기화하지 못하더라도) try 블록 앞에서 선언해야 한다.

```java
Constructor<? extends Set<String>>ncons = null;
try {
  cons = cl.getDeclaredConstructor();
} catch (NoSuchmerhodException e) {
  fatalError("매개변수 없는 생성자 없음");
}
```

## 반복문을 사용한 변수 범위 최소화

반복문에서는 loop variable의 범위가 반복문 몸체, for 키워드와 몸체 사이의 괄호 안으로 제한된다. 따라서 이 값을 반복문 종로 후에서 써야만 하는 상황이 아니라면 while보다는 for문을 사용하는 것이 낫다. while 문을 사용하며 잘못 복사 붙여넣기를 해도 오류가 겉으로 드러나지 않아서 오랜 기간 발견되지 않을 수 있다. 반면 **for문은 변수 유효 범위가 for문 범위와 일치해서 똑같은 이름의 변수를 여러 반복문에서 써도 서로 아무 영향을 주지 않는다.** 또한 아래와 같이 한계값을 변수에 저장해두도록 사용할수도 있다.

```java
for (int i = 0, n = expensiveComputation(); i < n; i++) {
  ...
}
```

> 지역변수 범위를 최소화하려면 메서드를 작게 유지하고 한 가지 기능에 집중해야 한다.

